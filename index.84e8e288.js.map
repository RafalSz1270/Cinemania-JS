{"mappings":"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","sources":["src/hero.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const API_KEY = '9d709850c7590845ffb60644b29d6f51';\n  const API_URL = 'https://api.themoviedb.org/3';\n  const HERO_CONTAINER = document.querySelector('.hero');\n  const TITLE = document.querySelector('.hero-title');\n  const DESCRIPTION = document.querySelector('.hero-film-description');\n  const MORE_DETAILS_BTN = document.querySelector('.right-hero-button');\n  const WATCH_TRAILER_BTN = document.querySelector('.watch-trailer-button');\n  const DETAILS_MODAL = document.getElementById('details-modal');\n  const TRAILER_MODAL = document.getElementById('trailer-modal');\n  const FILM_DETAILS = document.getElementById('film-details');\n  const TRAILER_CONTAINER = document.getElementById('trailer-container');\n  const NO_TRAILER_MESSAGE = document.getElementById('no-trailer-message');\n  const CLOSE_DETAILS = document.getElementById('close-details');\n  const CLOSE_TRAILER = document.getElementById('close-trailer');\n  const GET_STARTED_BTN = document.getElementById('get-started-button');\n\n  // Rating stars\n  function generateStars(rating) {\n    const fullStar = '<i class=\"fas fa-star\"></i>';\n    const halfStar = '<i class=\"fas fa-star-half-alt\"></i>';\n    const emptyStar = '<i class=\"far fa-star\"></i>';\n\n    let stars = '';\n    const integerPart = Math.floor(rating);\n    const decimalPart = rating - integerPart;\n\n    // Dodaj pełne gwiazdki\n    stars += fullStar.repeat(integerPart);\n\n    // Dodaj połowiczną gwiazdkę, jeśli rating ma część dziesiętną większą niż 0\n    if (decimalPart >= 0.5) {\n      stars += halfStar;\n    }\n\n    // Dodaj puste gwiazdki, aby uzyskać pełne 5 gwiazdek\n    stars += emptyStar.repeat(5 - integerPart - (decimalPart >= 0.5 ? 1 : 0));\n\n    return stars;\n  }\n\n  // Fetch popular films from the API\n  async function fetchPopularFilms() {\n    try {\n      const response = await fetch(\n        `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US`\n      );\n      const data = await response.json();\n      return data.results;\n    } catch (error) {\n      console.error('Error fetching popular films:', error);\n      return [];\n    }\n  }\n\n  // Get a random film from the list\n  function getRandomFilm(films) {\n    return films[Math.floor(Math.random() * films.length)];\n  }\n\n  // Display default content when no films are found\n  function renderDefaultContent() {\n    HERO_CONTAINER.style.background =\n      'url(\"../images/hero-background.png\") no-repeat center center';\n    HERO_CONTAINER.style.backgroundSize = 'cover';\n    TITLE.innerText = 'Cinemania';\n    DESCRIPTION.innerHTML = '<a href=\"/catalog\">Get Started</a>';\n\n    WATCH_TRAILER_BTN.classList.add('hidden');\n    MORE_DETAILS_BTN.classList.add('hidden');\n  }\n\n  // Display film information\n  function displayFilm(film) {\n    TITLE.innerText = film.title;\n    DESCRIPTION.innerText = film.overview;\n    HERO_CONTAINER.style.backgroundImage = `linear-gradient(\n            to right,\n            black 15%,\n            rgba(0, 0, 0, 1) 30%,\n            rgba(0, 0, 0, 0.3) 50%,\n            rgba(0, 0, 0, 0) 60%,\n            transparent 100%\n        ), url('https://image.tmdb.org/t/p/original${film.backdrop_path}')`;\n\n    // Display rating as stars\n    const rating = film.vote_average / 2;\n    document.getElementById('hero-rating').innerHTML = generateStars(rating);\n\n    WATCH_TRAILER_BTN.classList.remove('hidden');\n    MORE_DETAILS_BTN.classList.remove('hidden');\n    MORE_DETAILS_BTN.onclick = () => openDetailsModal(film.id);\n    WATCH_TRAILER_BTN.onclick = () => fetchTrailer(film.id);\n\n    localStorage.setItem('currentFilm', JSON.stringify(film));\n  }\n\n  // Open film details modal\n  async function openDetailsModal(filmId) {\n    try {\n      const response = await fetch(\n        `${API_URL}/movie/${filmId}?api_key=${API_KEY}&language=en-US`\n      );\n      const film = await response.json();\n      FILM_DETAILS.innerHTML = `\n                <h2>${film.title}</h2>\n                <p>${film.overview}</p>\n            `;\n      DETAILS_MODAL.classList.remove('hidden');\n    } catch (error) {\n      console.error('Error fetching film details:', error);\n    }\n  }\n\n  // Fetch and display film trailer\n  async function fetchTrailer(filmId) {\n    try {\n      const response = await fetch(\n        `${API_URL}/movie/${filmId}/videos?api_key=${API_KEY}&language=en-US`\n      );\n      const data = await response.json();\n      const trailers = data.results.filter(video => video.type === 'Trailer');\n      if (trailers.length > 0) {\n        const trailer = trailers[0];\n        TRAILER_CONTAINER.innerHTML = `\n                    <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/${trailer.key}\" frameborder=\"0\" allowfullscreen></iframe>\n                `;\n        NO_TRAILER_MESSAGE.classList.add('hidden');\n      } else {\n        TRAILER_CONTAINER.innerHTML = '';\n        NO_TRAILER_MESSAGE.classList.remove('hidden');\n      }\n      TRAILER_MODAL.classList.remove('hidden');\n    } catch (error) {\n      console.error('Error fetching trailer:', error);\n      TRAILER_CONTAINER.innerHTML = '';\n      NO_TRAILER_MESSAGE.classList.remove('hidden');\n      TRAILER_MODAL.classList.remove('hidden');\n    }\n  }\n\n  // Close modals\n  CLOSE_DETAILS.onclick = () => {\n    DETAILS_MODAL.classList.add('hidden');\n  };\n  CLOSE_TRAILER.onclick = () => {\n    TRAILER_MODAL.classList.add('hidden');\n  };\n\n  window.onclick = event => {\n    if (event.target === DETAILS_MODAL) {\n      DETAILS_MODAL.classList.add('hidden');\n    }\n    if (event.target === TRAILER_MODAL) {\n      TRAILER_MODAL.classList.add('hidden');\n    }\n  };\n\n  // Redirect to catalog page on \"Get Started\" button click\n  GET_STARTED_BTN.onclick = () => {\n    window.location.href = '/catalog';\n  };\n\n  // Initial film fetch\n  async function initializeHeroSection() {\n    const films = await fetchPopularFilms();\n    if (films.length === 0) {\n      renderDefaultContent();\n    } else {\n      const randomFilm = getRandomFilm(films);\n      displayFilm(randomFilm);\n    }\n  }\n\n  initializeHeroSection();\n});\n"],"names":["document","addEventListener","API_KEY","API_URL","HERO_CONTAINER","querySelector","TITLE","DESCRIPTION","MORE_DETAILS_BTN","WATCH_TRAILER_BTN","DETAILS_MODAL","getElementById","TRAILER_MODAL","FILM_DETAILS","TRAILER_CONTAINER","NO_TRAILER_MESSAGE","CLOSE_DETAILS","CLOSE_TRAILER","GET_STARTED_BTN","displayFilm","film","innerText","title","overview","style","backgroundImage","backdrop_path","rating","vote_average","innerHTML","stars","integerPart","Math","floor","decimalPart","repeat","generateStars","classList","remove","onclick","async","filmId","response","fetch","json","error","console","openDetailsModal","id","trailers","results","filter","video","type","length","trailer","key","add","fetchTrailer","localStorage","setItem","JSON","stringify","window","event","target","location","href","films","fetchPopularFilms","background","backgroundSize","randomFilm","random","getRandomFilm","initializeHeroSection"],"version":3,"file":"index.84e8e288.js.map"}