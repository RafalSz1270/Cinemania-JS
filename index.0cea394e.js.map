{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAAAC,SAASC,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAU,mCACVC,EAAU,+BACVC,EAAiBJ,SAASK,cAAc,SACxCC,EAAQN,SAASK,cAAc,eAC/BE,EAAcP,SAASK,cAAc,0BACrCG,EAAmBR,SAASK,cAAc,sBAC1CI,EAAoBT,SAASK,cAAc,yBAC3CK,EAAgBV,SAASW,eAAe,iBACxCC,EAAgBZ,SAASW,eAAe,iBACxCE,EAAeb,SAASW,eAAe,gBACvCG,EAAoBd,SAASW,eAAe,qBAC5CI,EAAqBf,SAASW,eAAe,sBAC7CK,EAAgBhB,SAASW,eAAe,iBACxCM,EAAgBjB,SAASW,eAAe,iBACxCO,EAAkBlB,SAASW,eAAe,sB,SA2BjCQ,I,OAAAC,EAAiBC,MAAAC,KAAAC,U,UAAjBH,I,OAAAA,EAAfI,EAAA1B,EAAA,CAAA0B,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUC,EAGAC,E,2FAHiBC,MACrB,GAAoCC,OAAjC5B,EAAQ,2BAAiC4B,OAAR7B,EAAQ,oB,cADxC0B,EAAQI,EAAAC,K,SAGKL,EAASM,O,cAAtBL,EAAIG,EAAAC,K,kBACHJ,EAAKM,S,yCAEZC,QAAQC,MAAM,gCAA+BL,EAAAM,I,kBACtC,I,2DATqBjB,MAAAC,KAAAC,U,CAchC,SAASgB,EAAcC,GACrB,OAAOA,EAAMC,KAAKC,MAAMD,KAAKE,SAAWH,EAAMI,Q,CAIhD,SAASC,IACPzC,EAAe0C,MAAMC,WACnB,+DACF3C,EAAe0C,MAAME,eAAiB,QACtC1C,EAAM2C,UAAY,YAClB1C,EAAY2C,UAAY,qCAExBzC,EAAkB0C,UAAUC,IAAI,UAChC5C,EAAiB2C,UAAUC,IAAI,S,CAIjC,SAASC,EAAYC,GACnBhD,EAAM2C,UAAYK,EAAKC,MACvBhD,EAAY0C,UAAYK,EAAKE,SAC7BpD,EAAe0C,MAAMW,gBAAkB,gQAO6B1B,OAAnBuB,EAAKI,cAAc,MAGpE,IAAMC,EAASL,EAAKM,aAAe,EACnC5D,SAASW,eAAe,eAAeuC,UArEzC,SAAuBS,GACrB,IAIIE,EAAQ,GACNC,EAAcrB,KAAKC,MAAMiB,GACzBI,EAAcJ,EAASG,EAa7B,OAVCD,GATgB,8BASCG,OAAOF,GAGrBC,GAAe,KACjBF,GAZe,wCAgBjBA,EAfkB,8BAeCG,OAAO,EAAIF,GAAeC,GAAe,GAAM,EAAI,G,CAmDnBE,CAAcN,GAEjElD,EAAkB0C,UAAUe,OAAO,UACnC1D,EAAiB2C,UAAUe,OAAO,UAClC1D,EAAiB2D,QAAU,W,gBAOGC,G,OAAjBC,EAAgBhD,MAAAC,KAAAC,U,CAPI+C,CAAiBhB,EAAKiB,G,EACvD9D,EAAkB0D,QAAU,W,gBAuBFC,G,OAAbI,EAAYnD,MAAAC,KAAAC,U,CAvBSkD,CAAanB,EAAKiB,G,EAEpDG,aAAaC,QAAQ,cAAeC,KAAKC,UAAUvB,G,UAItCe,I,OAAAA,EAAf7C,EAAA1B,EAAA,CAAA0B,EAAAC,GAAAC,MAAA,SAAAC,EAAgCyC,G,IAEtBxC,EAGA0B,E,2FAHiBxB,MACrB,GAAoBC,OAAjB5B,EAAQ,WAA2B4B,OAAlBqC,EAAO,aAAmBrC,OAAR7B,EAAQ,oB,cAD1C0B,EAAQI,EAAAC,K,SAGKL,EAASM,O,OAAtBoB,EAAItB,EAAAC,KACVpB,EAAaqC,UAAY,yBAEVnB,OADCuB,EAAKC,MAAM,8BACExB,OAAduB,EAAKE,SAAS,sBAE7B9C,EAAcyC,UAAUe,OAAO,U,kDAE/B9B,QAAQC,MAAM,+BAA8BL,EAAAM,I,2DAZjBjB,MAAAC,KAAAC,U,UAiBhBiD,I,OAAAA,EAAfhD,EAAA1B,EAAA,CAAA0B,EAAAC,GAAAC,MAAA,SAAAC,EAA4ByC,G,IAElBxC,EAGAC,EACAiD,EAEEC,E,2FANejD,MACrB,GAAoBC,OAAjB5B,EAAQ,WAAkC4B,OAAzBqC,EAAO,oBAA0BrC,OAAR7B,EAAQ,oB,cADjD0B,EAAQI,EAAAC,K,SAGKL,EAASM,O,OAAtBL,EAAIG,EAAAC,MACJ6C,EAAWjD,EAAKM,QAAQ6C,QAAO,SAAAC,G,MAAwB,YAAfA,EAAMC,I,KACvCtC,OAAS,GACdmC,EAAUD,EAAS,GACzBhE,EAAkBoC,UAAY,6FACgEnB,OAAZgD,EAAQI,IAAI,iEAE9FpE,EAAmBoC,UAAUC,IAAI,YAEjCtC,EAAkBoC,UAAY,GAC9BnC,EAAmBoC,UAAUe,OAAO,WAEtCtD,EAAcuC,UAAUe,OAAO,U,kDAE/B9B,QAAQC,MAAM,0BAAyBL,EAAAM,IACvCxB,EAAkBoC,UAAY,GAC9BnC,EAAmBoC,UAAUe,OAAO,UACpCtD,EAAcuC,UAAUe,OAAO,U,2DAtBR7C,MAAAC,KAAAC,U,UAiDZ6D,I,OAAAA,EAAf5D,EAAA1B,EAAA,CAAA0B,EAAAC,GAAAC,MAAA,SAAAC,I,IACQa,E,kFAAcrB,I,OACC,KADfqB,EAAKR,EAAAC,MACDW,OACRC,IAGAQ,EADmBd,EAAcC,I,4CALDnB,MAAAC,KAAAC,U,CAtBpCP,EAAcmD,QAAU,WACtBzD,EAAcyC,UAAUC,IAAI,S,EAE9BnC,EAAckD,QAAU,WACtBvD,EAAcuC,UAAUC,IAAI,S,EAG9BiC,OAAOlB,QAAU,SAAAmB,GACXA,EAAMC,SAAW7E,GACnBA,EAAcyC,UAAUC,IAAI,UAE1BkC,EAAMC,SAAW3E,GACnBA,EAAcuC,UAAUC,IAAI,S,EAKhClC,EAAgBiD,QAAU,WACxBkB,OAAOG,SAASC,KAAO,U,aAIVL,EAAqB/D,MAAAC,KAAAC,U,CAUpCmE,E","sources":["src/hero.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const API_KEY = '9d709850c7590845ffb60644b29d6f51';\n  const API_URL = 'https://api.themoviedb.org/3';\n  const HERO_CONTAINER = document.querySelector('.hero');\n  const TITLE = document.querySelector('.hero-title');\n  const DESCRIPTION = document.querySelector('.hero-film-description');\n  const MORE_DETAILS_BTN = document.querySelector('.right-hero-button');\n  const WATCH_TRAILER_BTN = document.querySelector('.watch-trailer-button');\n  const DETAILS_MODAL = document.getElementById('details-modal');\n  const TRAILER_MODAL = document.getElementById('trailer-modal');\n  const FILM_DETAILS = document.getElementById('film-details');\n  const TRAILER_CONTAINER = document.getElementById('trailer-container');\n  const NO_TRAILER_MESSAGE = document.getElementById('no-trailer-message');\n  const CLOSE_DETAILS = document.getElementById('close-details');\n  const CLOSE_TRAILER = document.getElementById('close-trailer');\n  const GET_STARTED_BTN = document.getElementById('get-started-button');\n\n  // Rating stars\n  function generateStars(rating) {\n    const fullStar = '<i class=\"fas fa-star\"></i>';\n    const halfStar = '<i class=\"fas fa-star-half-alt\"></i>';\n    const emptyStar = '<i class=\"far fa-star\"></i>';\n\n    let stars = '';\n    const integerPart = Math.floor(rating);\n    const decimalPart = rating - integerPart;\n\n    // Dodaj pełne gwiazdki\n    stars += fullStar.repeat(integerPart);\n\n    // Dodaj połowiczną gwiazdkę, jeśli rating ma część dziesiętną większą niż 0\n    if (decimalPart >= 0.5) {\n      stars += halfStar;\n    }\n\n    // Dodaj puste gwiazdki, aby uzyskać pełne 5 gwiazdek\n    stars += emptyStar.repeat(5 - integerPart - (decimalPart >= 0.5 ? 1 : 0));\n\n    return stars;\n  }\n\n  // Fetch popular films from the API\n  async function fetchPopularFilms() {\n    try {\n      const response = await fetch(\n        `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US`\n      );\n      const data = await response.json();\n      return data.results;\n    } catch (error) {\n      console.error('Error fetching popular films:', error);\n      return [];\n    }\n  }\n\n  // Get a random film from the list\n  function getRandomFilm(films) {\n    return films[Math.floor(Math.random() * films.length)];\n  }\n\n  // Display default content when no films are found\n  function renderDefaultContent() {\n    HERO_CONTAINER.style.background =\n      'url(\"../images/hero-background.png\") no-repeat center center';\n    HERO_CONTAINER.style.backgroundSize = 'cover';\n    TITLE.innerText = 'Cinemania';\n    DESCRIPTION.innerHTML = '<a href=\"/catalog\">Get Started</a>';\n\n    WATCH_TRAILER_BTN.classList.add('hidden');\n    MORE_DETAILS_BTN.classList.add('hidden');\n  }\n\n  // Display film information\n  function displayFilm(film) {\n    TITLE.innerText = film.title;\n    DESCRIPTION.innerText = film.overview;\n    HERO_CONTAINER.style.backgroundImage = `linear-gradient(\n            to right,\n            black 15%,\n            rgba(0, 0, 0, 1) 30%,\n            rgba(0, 0, 0, 0.3) 50%,\n            rgba(0, 0, 0, 0) 60%,\n            transparent 100%\n        ), url('https://image.tmdb.org/t/p/original${film.backdrop_path}')`;\n\n    // Display rating as stars\n    const rating = film.vote_average / 2;\n    document.getElementById('hero-rating').innerHTML = generateStars(rating);\n\n    WATCH_TRAILER_BTN.classList.remove('hidden');\n    MORE_DETAILS_BTN.classList.remove('hidden');\n    MORE_DETAILS_BTN.onclick = () => openDetailsModal(film.id);\n    WATCH_TRAILER_BTN.onclick = () => fetchTrailer(film.id);\n\n    localStorage.setItem('currentFilm', JSON.stringify(film));\n  }\n\n  // Open film details modal\n  async function openDetailsModal(filmId) {\n    try {\n      const response = await fetch(\n        `${API_URL}/movie/${filmId}?api_key=${API_KEY}&language=en-US`\n      );\n      const film = await response.json();\n      FILM_DETAILS.innerHTML = `\n                <h2>${film.title}</h2>\n                <p>${film.overview}</p>\n            `;\n      DETAILS_MODAL.classList.remove('hidden');\n    } catch (error) {\n      console.error('Error fetching film details:', error);\n    }\n  }\n\n  // Fetch and display film trailer\n  async function fetchTrailer(filmId) {\n    try {\n      const response = await fetch(\n        `${API_URL}/movie/${filmId}/videos?api_key=${API_KEY}&language=en-US`\n      );\n      const data = await response.json();\n      const trailers = data.results.filter(video => video.type === 'Trailer');\n      if (trailers.length > 0) {\n        const trailer = trailers[0];\n        TRAILER_CONTAINER.innerHTML = `\n                    <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/${trailer.key}\" frameborder=\"0\" allowfullscreen></iframe>\n                `;\n        NO_TRAILER_MESSAGE.classList.add('hidden');\n      } else {\n        TRAILER_CONTAINER.innerHTML = '';\n        NO_TRAILER_MESSAGE.classList.remove('hidden');\n      }\n      TRAILER_MODAL.classList.remove('hidden');\n    } catch (error) {\n      console.error('Error fetching trailer:', error);\n      TRAILER_CONTAINER.innerHTML = '';\n      NO_TRAILER_MESSAGE.classList.remove('hidden');\n      TRAILER_MODAL.classList.remove('hidden');\n    }\n  }\n\n  // Close modals\n  CLOSE_DETAILS.onclick = () => {\n    DETAILS_MODAL.classList.add('hidden');\n  };\n  CLOSE_TRAILER.onclick = () => {\n    TRAILER_MODAL.classList.add('hidden');\n  };\n\n  window.onclick = event => {\n    if (event.target === DETAILS_MODAL) {\n      DETAILS_MODAL.classList.add('hidden');\n    }\n    if (event.target === TRAILER_MODAL) {\n      TRAILER_MODAL.classList.add('hidden');\n    }\n  };\n\n  // Redirect to catalog page on \"Get Started\" button click\n  GET_STARTED_BTN.onclick = () => {\n    window.location.href = '/catalog';\n  };\n\n  // Initial film fetch\n  async function initializeHeroSection() {\n    const films = await fetchPopularFilms();\n    if (films.length === 0) {\n      renderDefaultContent();\n    } else {\n      const randomFilm = getRandomFilm(films);\n      displayFilm(randomFilm);\n    }\n  }\n\n  initializeHeroSection();\n});\n"],"names":["$bpxeT","parcelRequire","document","addEventListener","API_KEY","API_URL","HERO_CONTAINER","querySelector","TITLE","DESCRIPTION","MORE_DETAILS_BTN","WATCH_TRAILER_BTN","DETAILS_MODAL","getElementById","TRAILER_MODAL","FILM_DETAILS","TRAILER_CONTAINER","NO_TRAILER_MESSAGE","CLOSE_DETAILS","CLOSE_TRAILER","GET_STARTED_BTN","fetchPopularFilms","_fetchPopularFilms","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","data","fetch","concat","_ctx","sent","json","results","console","error","t0","getRandomFilm","films","Math","floor","random","length","renderDefaultContent","style","background","backgroundSize","innerText","innerHTML","classList","add","displayFilm","film","title","overview","backgroundImage","backdrop_path","rating","vote_average","stars","integerPart","decimalPart","repeat","generateStars","remove","onclick","filmId","_openDetailsModal","openDetailsModal","id","_fetchTrailer","fetchTrailer","localStorage","setItem","JSON","stringify","trailers","trailer","filter","video","type","key","_initializeHeroSection","window","event","target","location","href","initializeHeroSection"],"version":3,"file":"index.0cea394e.js.map"}