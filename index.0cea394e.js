!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire6cf5;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire6cf5=a);var o=a("bpxeT"),c=a("2TvXO");document.addEventListener("DOMContentLoaded",(function(){var t="9d709850c7590845ffb60644b29d6f51",n="https://api.themoviedb.org/3",r=document.querySelector(".hero"),a=document.querySelector(".hero-title"),i=document.querySelector(".hero-film-description"),s=document.querySelector(".right-hero-button"),l=document.querySelector(".watch-trailer-button"),u=document.getElementById("details-modal"),d=document.getElementById("trailer-modal"),f=document.getElementById("film-details"),p=document.getElementById("trailer-container"),h=document.getElementById("no-trailer-message"),m=document.getElementById("close-details"),g=document.getElementById("close-trailer"),v=document.getElementById("get-started-button");function y(){return b.apply(this,arguments)}function b(){return(b=e(o)(e(c).mark((function r(){var a,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/movie/popular?api_key=").concat(t,"&language=en-US"));case 3:return a=e.sent,e.next=6,a.json();case 6:return o=e.sent,e.abrupt("return",o.results);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Error fetching popular films:",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),r,null,[[0,10]])})))).apply(this,arguments)}function w(e){return e[Math.floor(Math.random()*e.length)]}function L(){r.style.background='url("../images/hero-background.png") no-repeat center center',r.style.backgroundSize="cover",a.innerText="Cinemania",i.innerHTML='<a href="/catalog">Get Started</a>',l.classList.add("hidden"),s.classList.add("hidden")}function k(e){a.innerText=e.title,i.innerText=e.overview,r.style.backgroundImage="linear-gradient(\n            to right,\n            black 15%,\n            rgba(0, 0, 0, 1) 30%,\n            rgba(0, 0, 0, 0.3) 50%,\n            rgba(0, 0, 0, 0) 60%,\n            transparent 100%\n        ), url('https://image.tmdb.org/t/p/original".concat(e.backdrop_path,"')");var t=e.vote_average/2;document.getElementById("hero-rating").innerHTML=function(e){var t="",n=Math.floor(e),r=e-n;return t+='<i class="fas fa-star"></i>'.repeat(n),r>=.5&&(t+='<i class="fas fa-star-half-alt"></i>'),t+'<i class="far fa-star"></i>'.repeat(5-n-(r>=.5?1:0))}(t),l.classList.remove("hidden"),s.classList.remove("hidden"),s.onclick=function(){return function(e){return x.apply(this,arguments)}(e.id)},l.onclick=function(){return function(e){return E.apply(this,arguments)}(e.id)},localStorage.setItem("currentFilm",JSON.stringify(e))}function x(){return(x=e(o)(e(c).mark((function r(a){var o,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/movie/").concat(a,"?api_key=").concat(t,"&language=en-US"));case 3:return o=e.sent,e.next=6,o.json();case 6:i=e.sent,f.innerHTML="\n                <h2>".concat(i.title,"</h2>\n                <p>").concat(i.overview,"</p>\n            "),u.classList.remove("hidden"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching film details:",e.t0);case 14:case"end":return e.stop()}}),r,null,[[0,11]])})))).apply(this,arguments)}function E(){return(E=e(o)(e(c).mark((function r(a){var o,i,s,l;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/movie/").concat(a,"/videos?api_key=").concat(t,"&language=en-US"));case 3:return o=e.sent,e.next=6,o.json();case 6:i=e.sent,(s=i.results.filter((function(e){return"Trailer"===e.type}))).length>0?(l=s[0],p.innerHTML='\n                    <iframe width="560" height="315" src="https://www.youtube.com/embed/'.concat(l.key,'" frameborder="0" allowfullscreen></iframe>\n                '),h.classList.add("hidden")):(p.innerHTML="",h.classList.remove("hidden")),d.classList.remove("hidden"),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching trailer:",e.t0),p.innerHTML="",h.classList.remove("hidden"),d.classList.remove("hidden");case 18:case"end":return e.stop()}}),r,null,[[0,12]])})))).apply(this,arguments)}function T(){return(T=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:0===(n=e.sent).length?L():k(w(n));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}m.onclick=function(){u.classList.add("hidden")},g.onclick=function(){d.classList.add("hidden")},window.onclick=function(e){e.target===u&&u.classList.add("hidden"),e.target===d&&d.classList.add("hidden")},v.onclick=function(){window.location.href="/catalog"},function(){T.apply(this,arguments)}()}))}();
//# sourceMappingURL=index.0cea394e.js.map
