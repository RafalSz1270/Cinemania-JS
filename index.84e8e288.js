document.addEventListener("DOMContentLoaded",(()=>{const e="9d709850c7590845ffb60644b29d6f51",t="https://api.themoviedb.org/3",n=document.querySelector(".hero"),r=document.querySelector(".hero-title"),a=document.querySelector(".hero-film-description"),i=document.querySelector(".right-hero-button"),o=document.querySelector(".watch-trailer-button"),c=document.getElementById("details-modal"),s=document.getElementById("trailer-modal"),d=document.getElementById("film-details"),l=document.getElementById("trailer-container"),m=document.getElementById("no-trailer-message"),h=document.getElementById("close-details"),u=document.getElementById("close-trailer"),g=document.getElementById("get-started-button");function f(h){r.innerText=h.title,a.innerText=h.overview,n.style.backgroundImage=`linear-gradient(\n            to right,\n            black 15%,\n            rgba(0, 0, 0, 1) 30%,\n            rgba(0, 0, 0, 0.3) 50%,\n            rgba(0, 0, 0, 0) 60%,\n            transparent 100%\n        ), url('https://image.tmdb.org/t/p/original${h.backdrop_path}')`;const u=h.vote_average/2;document.getElementById("hero-rating").innerHTML=function(e){let t="";const n=Math.floor(e),r=e-n;return t+='<i class="fas fa-star"></i>'.repeat(n),r>=.5&&(t+='<i class="fas fa-star-half-alt"></i>'),t+='<i class="far fa-star"></i>'.repeat(5-n-(r>=.5?1:0)),t}(u),o.classList.remove("hidden"),i.classList.remove("hidden"),i.onclick=()=>async function(n){try{const r=await fetch(`${t}/movie/${n}?api_key=${e}&language=en-US`),a=await r.json();d.innerHTML=`\n                <h2>${a.title}</h2>\n                <p>${a.overview}</p>\n            `,c.classList.remove("hidden")}catch(e){console.error("Error fetching film details:",e)}}(h.id),o.onclick=()=>async function(n){try{const r=await fetch(`${t}/movie/${n}/videos?api_key=${e}&language=en-US`),a=(await r.json()).results.filter((e=>"Trailer"===e.type));if(a.length>0){const e=a[0];l.innerHTML=`\n                    <iframe width="560" height="315" src="https://www.youtube.com/embed/${e.key}" frameborder="0" allowfullscreen></iframe>\n                `,m.classList.add("hidden")}else l.innerHTML="",m.classList.remove("hidden");s.classList.remove("hidden")}catch(e){console.error("Error fetching trailer:",e),l.innerHTML="",m.classList.remove("hidden"),s.classList.remove("hidden")}}(h.id),localStorage.setItem("currentFilm",JSON.stringify(h))}h.onclick=()=>{c.classList.add("hidden")},u.onclick=()=>{s.classList.add("hidden")},window.onclick=e=>{e.target===c&&c.classList.add("hidden"),e.target===s&&s.classList.add("hidden")},g.onclick=()=>{window.location.href="/catalog"},async function(){const c=await async function(){try{const n=await fetch(`${t}/movie/popular?api_key=${e}&language=en-US`);return(await n.json()).results}catch(e){return console.error("Error fetching popular films:",e),[]}}();if(0===c.length)n.style.background='url("../images/hero-background.png") no-repeat center center',n.style.backgroundSize="cover",r.innerText="Cinemania",a.innerHTML='<a href="/catalog">Get Started</a>',o.classList.add("hidden"),i.classList.add("hidden");else{const e=function(e){return e[Math.floor(Math.random()*e.length)]}(c);f(e)}}()}));
//# sourceMappingURL=index.84e8e288.js.map
